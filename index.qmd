---
title: "Estimating the Determinants of Health Literacy for Policy Prioritisation"
# : A Local Level Case Study in Newham, London
subtitle: "UCL CDS Symposium on Data Science in Public Health"
author: "Nathan Green"
institute: "Department of Statistical Science, UCL"
format:
  revealjs:
    pdf-separate-fragments: false
    show-slide-number: all
    incremental: true
    footer: "Nathan Green | UCL | n.green@ucl.ac.uk"
    slide-number: 'c/t' # Enables page numbers (can be 'true', 'c', 'c/t', 'h.v')
    # theme: [default, custom.scss]
    theme: [default, ucl-theme.scss]
    # css : styles.css
    self-contained: true
     # Include JavaScript to dynamically add the bars to the document body
    include-in-header:
      - text: |
          <script>
            document.addEventListener('DOMContentLoaded', function() {
              // Top Bar
              const topBar = document.createElement('div');
              topBar.className = 'top-bar';
              topBar.innerHTML = '<img src="ucl_logo.svg" alt="UCL Logo" class="ucl-logo"><span class="presentation-title">Determinants of Health Literacy</span><span class="author-info"></span>';
              document.body.appendChild(topBar);

              // Initial update for the first slide
              const initialSlideNumberElement = bottomBar.querySelector('.slide-number-display');
              if (initialSlideNumberElement) {
                  setTimeout(() => { // Small delay to ensure Reveal.js is ready
                      initialSlideNumberElement.textContent = `1 / ${Reveal.getTotalSlides()}`;
                  }, 100);
              }
            });
          </script>
filters:
  - emoji-filter.lua
editor: visual
smaller: true
progress: true
bibliography: mybib.bib
---

```{=html}
<style>
.reveal .sourceCode pre,
.reveal .sourceCode code,
.reveal pre code {
  font-size: 0.6em; /* Adjust as needed */
}
</style>
```

<!-- type 's' for speaker view -->

## Outline

-   Background
-   Problems
-   Solutions
    -   Local level estimation
    -   Predictive comparisons
    -   Prioritisation
-   Conclusion

:::: fragment
::: callout-note
## Resources

Slides and code here: `github.com/n8thangreen/data-science-in-health-talk`
:::
::::

::: notes
Remember to introduce myself and the topic here. emerging approaches at the interface of data science, statistics, and public health. how data-driven methods are shaping real-world health impact.
:::

<!-- ##  -->

<!-- ::: panel-tabset -->

<!-- ## Tab 1 -->

<!-- Content for Tab 1. -->

<!-- ## Tab 2 -->

<!-- Content for Tab 2. -->

<!-- ::: -->

## Background

::: {align="center"}
![](fellowship-webpage.png)
:::

<!-- <img src="fellowship-webpage.png"> -->

## Project outline

-   Title: **Assesses the factors that determine health literacy and the size of their influence/impact for Newham**

-   [Health literacy]{style="color: blue;"} is broadly defined as the ability to access, understand, appraise, and communicate health information, enabling individuals to engage in healthcare and maintain good health throughout their lives.

## 

-   Focusses on [Newham]{style="color: blue;"}, a diverse borough in East London that faces unique challenges
-   Identified as having some of the [lowest levels]{style="color: blue;"} of health literacy in the UK by University of Southampton (https://healthliteracy.geodata.uk/)

::::: columns
::: {.column width="50%"}
![](health-literacy-map.png)
:::

::: {.column width="50%"}
![](health-literacy-graph.png)
:::
:::::


## Previous method: Synthetic estimation

::::: columns
::: {.column width="50%"}
-   Weighted Logistic Regression with Synthetic Estimation (@laursen2016developing)
    -   Frequentist single-level regression with poststratification
-   Used in [Small Area Estimation (SAE)]{style="color: blue;"} (@gonzalez1973use; @rao2015small)
-   Can be viewed as the simpler predecessor to [Multilevel Regression with Post-stratification (MRP)]{style="color: blue;"}
    -   Ignores any unique local factors
    -   MRP includes shrinkage via random effects
:::

::: {.column width="50%"}
![](sae-book.jpeg){fig-align="center"}
:::
:::::




## Talking a different language :talking:

| Small Area Estimation (SAE) (Previous) |   | HTA / Statistics Method (Me) |
|:---------------------------|:--------------------:|:---------------------|
| Weighted Logistic Regression with Synthetic Estimation<br><br> | $\longrightarrow$ | Multilevel Regression with Post-stratification (MRP)<br> |
| Linear Plug-In Model<br>*(Equivalent to Regression-Synthetic Estimator at Unit Level)* | $\longrightarrow$ | Simulated Treatment Comparison (STC) |
| Residual-adjusted synthetic estimation | $\longrightarrow$ | Targeted Maximum Likelihood Estimation (TMLE)<br>*(in causal inference)* |

## Problems

1. What is health literacy level [specific to Newham]{style="color: blue;"}?
2. What are the ['drivers']{style="color: blue;"} of health literacy?
3. How should we [intervene]{style="color: blue;"} to effect health literacy outcomes?

## Available data

-   **Skills for Life (SfL) Survey 2011** [[MR]{style="color: blue;"}P]

    -   Comprehensive computer-based assessment conducted by the ONS to evaluate the skills of literacy, numeracy, and ICT
    -   Total 7230 adults in England

-   **Newham Residents Survey 2023 (NRS)** [MR[P]{style="color: blue;"}]

    -   Periodic survey, usually every two years
    -   Detailed information on views, experiences, and needs of Newham residents
    -   Covers satisfaction with local services, community safety, health and well-being, housing, and employment

-   Additional data

    -   UK Programme for International Assessment of Adult Competencies (PIAAC) 2023 [[MR]{style="color: blue;"}P]
    -   Skills for Life Survey 2003 [[MR]{style="color: blue;"}P]
    -   Labour Force Survey (LFS) / Annual Population Survey (APS) [MR[P]{style="color: blue;"}]
    -   UK Census 2011, 2021 [MR[P]{style="color: blue;"}]

## From Skills for Life to Health literacy

::::: columns
::: {.column width="50%"}
-   From @rowlands2015
-   Sample of health materials, including
    -   medicine labels
    -   booklets
    -   application forms
-   Covered themes of health promotion, managing illness, systems navigation and disease prevention
-   Assessed for literacy and numeracy complexity by [education experts]{style="color: blue;"}
-   SfL responses were mapped to the binary health literacy scale according to whether they are [above or below threshold]{style="color: blue;"}
:::

::: {.column width="50%"}
<br>
<br>
<br>
<br>
![](health_literacy_docs_photo.jpeg)
:::
:::::

## 

# Problem 1: Newham specific health literacy estimates? :thinking:


## Newham vs Skills for Life profiles

![](dumbbell_plot_literacy.png){fig-align="center"}

## [Mutlilevel Regression]{style="color: blue;"} and Post-stratification

::::: columns
::: {.column width="50%"}
The predicted probability defined as:
<br>
<br>
<br>
<br>
$$
\hat{\pi}_i = \text{logit}^{-1} \left( \hat{\beta}_0 + \sum_{x} \hat{\beta}^{x}_{\gamma_x[i]} \right)
$$
:::

::: {.column width="50%"}
-   $\hat{\beta}_0$ is the intercept, $\hat{\beta}^{x}_{\gamma_x[i]}$ are coefficients for covariates $x$
    -   age, sex, English language, white ethnicity, UK born, qualifications, income, job status, work role, home ownership
-   $\gamma_x[i]$ represents the level or category for covariate $x$ for individual $i$
-   IMD is included as multilevel random effects $\beta^{\text{IMD}}_j \sim \text{N}(\mu_{\text{IMD}}, \sigma_{\text{IMD}}^2)$
-   Prior distributions for fixed effects normal distributions centered at zero with modest variance
-   Half-normal priors are used for random effect standard deviations
:::
:::::

## Mutlilevel Regression and [Post-stratification]{style="color: blue;"}

-   The health literacy probabilities for each demographic category (cell $c$) are weighted by their proportion in the actual Newham population

-   11 covariates $\rightarrow$ 13,824 cells

-   Post-stratified estimate is: $$
    \hat{\pi}^{\text{mrp}} = \sum_{c = 1}^{|\mathcal{S}|}  \frac{N_{c} \hat{\pi}_{c}}{N}
    $$

-   $\mathcal{S}$ is the set of all covariate combinations

-   $N_c$ is the population frequency for cell $c$

-   $N$ is the total population size


## Missing joint distributions

::::: columns
::: {.column width="50%"}
-   [Raking / Iterative proportional fitting (IPF)]{style="color: blue;"}
    -   Adjust survey weights so that the sample distribution matches known population control totals (margins)
-   Census data $\rightarrow$ Marginals
-   Labour Force Survey (LFS) $\rightarrow$ Covariance structure
-   Overlap issues, non-representative
    -   Data augmentation *before* IPF
    -   Laplace smoothing *after* IPF
        -   Like "zero cell" problem in meta-analyses
- [Copula]{style="color: blue;"} method alternative
:::

::: {.column width="50%"}
![](rubics-cube.jpeg){fig-align="right"}
:::
:::::


# Problem 2: What are the 'drivers' in Newham? :thinking:

## Predictive comparisons

-   Terminology borrow from @gelman2007. Also called [predicted change in probability]{style="color: blue;"}
-   Previously, crops up in other fields e.g. @lee1981covariance ([covariance adjustment mean difference]{style="color: blue;"})
-   Like [average treatment effects]{style="color: blue;"} without the causal interpretation<br><br><br><br>$$
    \delta_u(u^{(1)}, u^{(2)}) = \frac{\mathbb{E}(y \mid u^{(2)}) - \mathbb{E}(y \mid u^{(1)})}{u^{(2)} - u^{(1)}}
    $$

## MRP-PC results

![](ame_forest_group_plot.png){fig-align="center"}


## 

# Problem 3: How should we intervene? :thinking:
<!-- {background-color="#40666e"} -->

## Priority ranking

-   Adopt [Surface Under the Cumulative Ranking Curve (SUCRA)]{style="color: blue;"}

    -   Common in multiple-treatment meta-analysis \cite{Salanti2011}

-   Percentage of the maximum possible cumulative rank an intervention can achieve

-   Providing a [single value]{style="color: blue;"} where a higher SUCRA indicates a better overall rank relative to others $$
    \text{SUCRA}_{ij} = \sum_{r=1}^{n-1} P_{ijr} / (n-1),
    $$

-   where $P_{ijr}$ is the cumulative probability for variable $i$ at level $j$ and rank $r$

-   Mean rank is $$
    \mathbb{E}[\text{rank}(i,j)] = n - \sum_{r=1}^{n-1} P_{ijr}
    $$

## Ranking results

![](ame_sucra_group_plot.png)

##

![](ranking-table.png)

## Sensitivity analyses {visibility="hidden"}

-   Concern was raised that the relationship between the covariates and the health literacy outcomes may have [changed over time]{style="color: blue;"}

-   So using SfL 2011 is not appropriate?

-   Suggested more recent survey data PIAAC 2023

    -   Missing data in PIAAC
    -   Impute using covariate relationship in SfL 2011
        -   Weaker assumption than with outcome

-   Also fitted to SfL 2001 to see trend back in time

## Covariate imputation {visibility="hidden"}

-   Covariate noise introduces [Dilution or Attenuation]{style="color: blue;"}, where signal is weakened
-   [Uncongeniality]{style="color: blue;"} is when there is a mismatch between the imputation and the main model
    -   Not including outcome essentially drop association with imputed covariates
-   So [trade-off]{style="color: blue;"} between including outcome for congeniality vs excluding because of temporal drift
-   Perform sensitivity analysis by including additional noise to outcome
    -   Equivalent to influence of [prior distribution]{style="color: blue;"} in Bayesian model

## {visibility="hidden"}

![](dillution_plots.png)

:::: fragment
::: callout-note
Figure from @Hutcheonc2289
:::
::::

## Congeniality sensitivity in imputation {visibility="hidden"}

::: r-stack
![](ame_forest_group_plot_piaac_imp_outcome.png){.fragment width="80%" fig-align="center"}

![](ame_forest_group_plot_piaac_imp_diluted_0.5.png){.fragment width="80%" fig-align="center"}

![](ame_forest_group_plot_piaac_imp_diluted_1.png){.fragment width="80%" fig-align="center"}
:::

## Conclusions

- The job is not done with the modelling :stop:

- Borrow methods from other fields

- Data issues are inevitable...deal with it

- [Clear communication]{style="color: blue;"} of results for SME and decision-maker is crucial

- It's an [iterative, team effort]{style="color: blue;"} from project [inception]{style="color: blue;"} to [decision]{style="color: blue;"}


## 

# Thanks :thankyou:


## References

<!-- install.packages("pagedown") -->
<!-- pagedown::chrome_print("myslides.html") -->